var V=Object.defineProperty,M=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var j=(r,n,t)=>n in r?V(r,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[n]=t,x=(r,n)=>{for(var t in n||(n={}))G.call(n,t)&&j(r,t,n[t]);if(D)for(var t of D(n))m.call(n,t)&&j(r,t,n[t]);return r},O=(r,n)=>M(r,W(n));var g=(r,n)=>{var t={};for(var e in r)G.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&D)for(var e of D(r))n.indexOf(e)<0&&m.call(r,e)&&(t[e]=r[e]);return t};import{j as u,B as f,A as K,a as i,b as Y,c as J,d as L,e as U,V as C,T as l,D as X,H as S,r as N,f as Q,S as Z,g as T,h as P,i as w,C as _,k as v,l as z,m as h,n as a,F as I,o as $,p as uu,q as F,s as k,t as eu,u as ru,R as nu,v as tu}from"./vendor.8030f8e2.js";const cu=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(s){if(s.ep)return;s.ep=!0;const c=t(s);fetch(s.href,c)}};cu();const su=({children:r,sectionTitle:n="",isDefaultOpen:t=!0})=>u(K,{borderColor:"transparent",defaultIndex:t?[0]:[],allowMultiple:!0,py:2,children:i(Y,{children:[u("h2",{children:i(J,{children:[u(f,{flex:1,textAlign:"left",children:n}),u(L,{})]})}),u(U,{overflowX:"auto",children:r})]})}),B=s=>{var c=s,{children:r,isAccordion:n=!0,sectionTitle:t}=c,e=g(c,["children","isAccordion","sectionTitle"]);return u(f,O(x({borderWidth:"1px",borderRadius:"md",w:"100%",bgColor:"white",p:n?0:4},e),{children:n?u(su,{sectionTitle:t,isDefaultOpen:e.isDefaultOpen,children:r}):r}))},iu=t=>{var e=t,{gradeData:r}=e,n=g(e,["gradeData"]);return u(f,{borderWidth:"1px",p:4,borderRadius:"lg",children:i(C,{align:"start",spacing:1,children:[i(l,{fontSize:"sm",color:"gray.500",children:[r.acquireYear," - ",r.acquireSemester]}),u(l,{fontWeight:"",children:r.subjectName}),i(l,{fontSize:"xs",color:"gray.500",children:["\u533A\u5206\uFF1A",r.subjectGenre]}),i(l,{fontSize:"xs",color:"gray.500",children:["\u5C0F\u533A\u5206\uFF1A",r.subjectSubGenre]}),u(X,{my:4}),i(S,{spacing:8,children:[i(S,{align:"baseline",spacing:4,children:[u(l,{fontSize:"xs",color:"gray.500",children:"\u5358\u4F4D\u6570"}),u(l,{fontSize:"xl",children:r.credit})]}),i(S,{align:"baseline",spacing:4,children:[u(l,{fontSize:"xs",color:"gray.500",children:"\u8A55\u70B9"}),u(l,{fontSize:"xl",children:r.grade})]})]})]})})},ou='"\u5B66\u751F\u6240\u5C5E\u30B3\u30FC\u30C9","\u5B66\u7C4D\u756A\u53F7","\u753B\u9762\u6307\u5B9A\u5E74\u5EA6","\u753B\u9762\u6307\u5B9A\u5B66\u671F","No.","\u79D1\u76EE\u8A73\u7D30\u533A\u5206","\u79D1\u76EE\u5C0F\u533A\u5206","\u958B\u8B1B\u79D1\u76EE\u540D ","\u30EA\u30FC\u30C7\u30A3\u30F3\u30B0\u30D7\u30ED\u30B0\u30E9\u30E0\u79D1\u76EE","\u77E5\u306E\u30B8\u30E0\u30CA\u30B9\u30C6\u30A3\u30C3\u30AF\u30B9\u79D1\u76EE","\u5358\u4F4D\u6570","\u4FEE\u5F97\u5E74\u5EA6","\u4FEE\u5F97\u5B66\u671F","\u8A55\u8A9E","\u5408\u5426"',au=r=>{switch(r){case"\uFF33":return 4;case"\uFF21":return 3;case"\uFF22":return 2;case"\uFF23":return 1;case"\uFF26":case"\u5426":case"\u5408":return 0;default:return 0}},lu=(r,n=100)=>Math.floor(r*n)/n,p=({gradeData:r,isTruryCreditNum:n=!0,filterBlackList:t={},filterWhiteList:e={}})=>r.filter(c=>n?c.passOrFail=="\u5408":!0).filter(c=>e!==void 0&&!!Object.keys(e).length?Object.keys(e).reduce((A,E)=>e!==void 0?A&&e[E].indexOf(c[E])!=-1:A&&!0,!0):!0).filter(c=>t!==void 0&&!!Object.keys(t).length?Object.keys(t).reduce((A,E)=>t!==void 0?A&&t[E].indexOf(c[E])==-1:A&&!0,!0):!0).reduce((c,d)=>c+d.credit,0),du=r=>{const n=r.filter(e=>e.subjectSubGenre!=="\u4ED6\u5B66\u79D1\u30FB\u5C02\u653B\u30FB\u6559\u514D\u7B49\u79D1\u76EE").filter(e=>e.grade!=="\u5408").reduce((e,s)=>e+s.credit*au(s.grade),0);return lu(n/p({gradeData:r,isTruryCreditNum:!1,filterBlackList:{grade:["\u5408","\u5426"],subjectSubGenre:["\u4ED6\u5B66\u79D1\u30FB\u5C02\u653B\u30FB\u6559\u514D\u7B49\u79D1\u76EE"]}}))},q=r=>{const n=new Set(r.map(e=>e.subjectGenre));let t=[];return Array.from(n).map(e=>{const s=new Set(r.filter(c=>c.subjectGenre==e).map(c=>c.subjectSubGenre));t.push({subjectGenre:e,subjectSubGenre:Array.from(s)})}),t},Eu=()=>{const[r,n]=N.exports.useState([]),t=async e=>{if(!(e.target instanceof HTMLInputElement)||!e.target.files)return;const s=new FileReader;s.onload=c=>{if(!c.target)return;const d=new Uint8Array(c.target.result),b=k.detect(d),E=k.convert(d,{to:"UNICODE",from:b,type:"string"}).split(/\r\n|\n/).filter(o=>o!=""),y=E.lastIndexOf(ou);if(y==-1){alert("csv\u30D5\u30A1\u30A4\u30EB\u306E\u89E3\u6790\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u6B63\u3057\u3044\u30D5\u30A1\u30A4\u30EB\u3092\u8AAD\u307F\u8FBC\u307E\u305B\u3066\u304F\u3060\u3055\u3044\u3002");return}const H=E.slice(y+1).map(o=>o.split(",")).map(o=>o.map(R=>R.slice(1,-1))).map(o=>({studentCode:o[0],studentId:o[1],displaySetYear:o[2],displaySetSemester:o[3],No:parseInt(o[4]),subjectGenre:o[5],subjectSubGenre:o[6],subjectName:o[7],readingProgramSubject:o[8],gymnasticsSubject:o[9],credit:parseInt(o[10]),acquireYear:parseInt(o[11]),acquireSemester:o[12],grade:o[13],passOrFail:o[14]}));n(H)},s.readAsArrayBuffer(e.target.files[0])};return N.exports.useEffect(()=>{console.log(q(r))},[r]),u(f,{children:i(C,{w:"100%",children:[u(B,{isAccordion:!1,children:i(C,{align:"start",children:[u(Q,{children:"KOAN\u6210\u7E3E\u30C1\u30A7\u30C3\u30AB\u30FC"}),u(l,{color:"gray.500",fontSize:"sm",children:"KOAN\u306E\u5358\u4F4D\u53D6\u5F97\u72B6\u6CC1\u51FA\u529B\u6A5F\u80FD\u306B\u3088\u3063\u3066\u51FA\u529B\u3055\u308C\u305FCSV\u30D5\u30A1\u30A4\u30EB\u3092\u89E3\u6790\u3057\u3001\u5358\u4F4D\u53D6\u5F97\u72B6\u6CC1\u3084GPA\u306E\u8A08\u7B97\u3092\u884C\u3046\u30A2\u30D7\u30EA\u3067\u3059\u3002\u79D1\u76EE\u533A\u5206\u6BCE\u306E\u53D6\u5F97\u5358\u4F4D\u6570\u306E\u8A08\u7B97\u3001\u7279\u5B9A\u306E\u6761\u4EF6\u4E0B\u3067\u306EGPA\u8A08\u7B97\u7B49\u304C\u884C\u3048\u307E\u3059\u3002\u5C65\u4FEE\u8A08\u753B\u3084\u3001\u5C02\u9580GPA\u306E\u7B97\u51FA\u306A\u3069\u306B\u7528\u3044\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"}),u(l,{fontSize:"sm",fontWeight:"bold",children:"\u672C\u30B7\u30B9\u30C6\u30E0\u306E\u5229\u7528\u306B\u4F34\u3044\u3001\u76F4\u63A5\u7684\u306A\u3044\u3057\u306F\u9593\u63A5\u7684\u306B\u751F\u3058\u305F\u640D\u5931\u7B49\u306B\u5BFE\u3057\u3001\u672C\u30B7\u30B9\u30C6\u30E0\u53CA\u3073\u88FD\u4F5C\u8005\u306F\u4F55\u3089\u8CAC\u4EFB\u3092\u8CA0\u3044\u307E\u305B\u3093\u3002\u672C\u30B7\u30B9\u30C6\u30E0\u3092\u5229\u7528\u3057\u305F\u3053\u3068\u306B\u3088\u308A\u751F\u3058\u308B\u7D50\u679C\u306E\u5168\u3066\u306F\u3001\u4F7F\u7528\u8005\u81EA\u8EAB\u306E\u8CAC\u4EFB\u3068\u8CA0\u62C5\u3068\u306A\u308A\u307E\u3059\u3002\u304F\u308C\u3050\u308C\u3082\u81EA\u5DF1\u5224\u65AD\u306E\u4E0A\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002"}),u(l,{color:"gray.500",fontSize:"sm",children:"\u6210\u7E3E\u30D5\u30A1\u30A4\u30EB\u306E\u89E3\u6790\u306F\u5168\u3066\u4F7F\u7528\u8005\u306E\u30D6\u30E9\u30A6\u30B6\u5185\u3067\u884C\u308F\u308C\u3001\u30B5\u30FC\u30D0\u30FC\u3078\u3068\u60C5\u5831\u304C\u9001\u4FE1\u3055\u308C\u308B\u3053\u3068\u306F\u3042\u308A\u307E\u305B\u3093\u3002\u672C\u30B7\u30B9\u30C6\u30E0\u306E\u5168\u3066\u306E\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u306FGitHub\u4E0A\u3067\u516C\u958B\u3057\u3066\u304A\u308A\u307E\u3059\u3002"})]})}),u(B,{sectionTitle:"CSV\u30D5\u30A1\u30A4\u30EB\u8AAD\u307F\u8FBC\u307F",children:i(C,{align:"start",children:[u(l,{fontSize:"sm",color:"gray.500",children:"KOAN\u306B\u30ED\u30B0\u30A4\u30F3\u3057\u3001\u3010\u6210\u7E3E\u3011\u2192\u3010\u{1F50D}\u6210\u7E3E\u767A\u8868\u65E5\u7167\u4F1A\u3011\u3078\u79FB\u52D5\u3002\u300C\u904E\u53BB\u3092\u542B\u3081\u305F\u5168\u6210\u7E3E\u300D\u306B\u30C1\u30A7\u30C3\u30AF\u3092\u5165\u308C\u3001\u300CCSV\u306B\u51FA\u529B\u3059\u308B\u300D\u3092\u62BC\u3057\u3066CSV\u3092\u751F\u6210\u3002\u305D\u306E\u3088\u3046\u306B\u3057\u3066\u751F\u6210\u3055\u308C\u305FCSV\u3092\u4EE5\u4E0B\u306E\u30DC\u30BF\u30F3\u3088\u308A\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u304F\u3060\u3055\u3044\u3002"}),u("input",{type:"file",accept:"text/csv",onChange:t})]})}),u(B,{isAccordion:!1,children:i(Z,{children:[i(T,{children:[u(P,{children:"\u901A\u7B97GPA"}),u(w,{children:du(r)})]}),i(T,{children:[u(P,{children:"\u53D6\u5F97\u6E08\u307F\u5358\u4F4D\u6570"}),u(w,{children:p({gradeData:r})})]})]})}),u(B,{sectionTitle:"\u5358\u4F4D\u53D6\u5F97\u72B6\u6CC1",children:u(_,{children:u(v,{maxW:600,size:"sm",children:u(z,{children:q(r).map(e=>{const s=e.subjectSubGenre.map(c=>i(h,{color:"gray.500",children:[u(a,{children:c}),u(a,{isNumeric:!0,children:p({gradeData:r,filterWhiteList:{subjectGenre:[e.subjectGenre],subjectSubGenre:[c]}})})]},c));return i(I,{children:[i(h,{children:[u(a,{children:e.subjectGenre==""?"(\u533A\u5206\u306A\u3057)":e.subjectGenre}),i(a,{isNumeric:!0,children:["\u8A08",p({gradeData:r,filterWhiteList:{subjectGenre:[e.subjectGenre]}})]})]},e.subjectGenre),s,i(h,{children:[u(a,{}),u(a,{})]})]})})})})})}),u(B,{sectionTitle:"\u5C65\u4FEE\u72B6\u6CC1\u4E00\u89A7",children:u($,{minChildWidth:300,spacing:4,children:r.length===0?u(I,{}):r.map(e=>u(iu,{gradeData:e},e.No))})}),u(B,{sectionTitle:"\u5C65\u4FEE\u72B6\u6CC1\u4E00\u89A7\uFF08\u8868\uFF09",isDefaultOpen:!1,children:i(v,{size:"sm",children:[u(uu,{children:i(h,{children:[u(F,{children:"\u79D1\u76EE\u8A73\u7D30\u533A\u5206"}),u(F,{children:"\u79D1\u76EE\u5C0F\u533A\u5206"}),u(F,{children:"\u958B\u8B1B\u79D1\u76EE\u540D"}),u(F,{children:"\u5358\u4F4D\u6570"}),u(F,{children:"\u4FEE\u5F97\u5E74\u5EA6"}),u(F,{children:"\u4FEE\u5F97\u5B66\u671F"}),u(F,{children:"\u8A55\u8A9E"})]})}),u(z,{children:r.map(e=>i(h,{children:[u(a,{children:e.subjectGenre}),u(a,{children:e.subjectSubGenre}),u(a,{children:e.subjectName}),u(a,{children:e.credit}),u(a,{children:e.acquireYear}),u(a,{children:e.acquireSemester}),u(a,{children:e.grade})]},e.No))})]})})]})})},Fu=eu({fonts:{body:"Noto Sans JP",heading:"Noto Sans JP"}});function Au(){return u(ru,{theme:Fu,resetCSS:!0,children:u(C,{w:"100%",minH:"100vh",bgColor:"gray.50",children:u(f,{maxW:1200,w:"100%",p:4,children:u(Eu,{})})})})}nu.render(u(tu.StrictMode,{children:u(Au,{})}),document.getElementById("root"));
